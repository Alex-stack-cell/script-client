<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset = "UTF-8">
		<meta name ="viewport" content ="width=device-width, initial-scale=1.0">
		<title>Exercice 9</title>
	</head>
	<body>
	<p>Regarder la console ;) </p>
	<script>
	/**
	* Programme qui demande à l'utilisateur d'entre un mot de passe contenant au moins un caractère
	* non numérique et un nombre
	*
	* @author A.Gavriilidis <alexandregavriilidis@gmail.com>
	* @ version 0.1 06MAI2021
	*/
	
	// Initialisation des variables  	
	let motDePasse = prompt("Veuillez entrer un mot de passe, svp");
	let validationMotDePasse = null;
	let tailleTab = null;
	
	// 1 Validation des entrées
	
	if(motDePasse.startsWith(" ") || motDePasse.endsWith(" ")){ // Pas d'espace au début ni à la fin
	
		alert("Veuillez ne pas mettre d'espace, svp");
		
	} else if(motDePasse.length === 1) { // Erreur si la longueur du mot de passe est inférieur à 2
	
		alert("Veuillez entrer au moins deux caractères, svp");
		
	// 2.1 Traitement Si la longueur du mot de passe vaut strictement 2
	
	} else if (motDePasse.length === 2) { 
	
		if(isNaN(motDePasse.charAt(0)) && !isNaN(parseInt(motDePasse.charAt(1)))) { 
		
			console.log("Bravo, votre mot de passe est enregistré !"); 
		
		} else if (!isNaN(parseInt(motDePasse.charAt(0))) && isNaN(motDePasse.charAt(1))) {
			
			console.log("Bravo, votre mot de passe est enregistré !"); 
		
		} else console.log("Echec, votre mot de passe n'est pas enregistré :( "); 
		
	// 2.2 Traitement Si la longueur du mot de passe est supérieure à 2
	
	} else {  
	
		validationMotDePasse = motDePasse.split("");
		tailleTab = validationMotDePasse.length-1;
		
		// Cas n 1 : Si un chiffre se trouve au debut||fin
		
		if(!isNaN(validationMotDePasse[0]) || !isNaN(validationMotDePasse[tailleTab])) {
		
		for(let i = 1; i<=tailleTab;i++) {
				
				if(isNaN(validationMotDePasse[i])){
				
				// Si une lettre se trouve après avoir fournit un chiffre ou avant le dernier chiffre => Ok
				
				console.log("Bravo, votre mot de passe est enregistré !"); 
				break;
				
				} 
				if (!isNaN(validationMotDePasse[i]) && i == tailleTab)  {
					
					// Si on a parcouru tout le tableau et il n'y a que des chiffres => Erreur
					
					console.log("Echec, votre mot de passe n'est pas enregistré :( "); 
					break;
				}
			}
			
		} else if (isNaN(validationMotDePasse[0]) || isNaN(validationMotDePasse[tailleTab])){ 
		
		// Cas n 2 : Si une lettre se trouve au debut||fin
		
			for(let i = 0; i<=tailleTab;i++) {
			
				if(!isNaN(validationMotDePasse[i])) {
				
				// Si un chiffre se trouve après avoir fournit une lettre ou avant la dernière lettre => Ok
				
				console.log("Bravo, votre mot de passe est enregistré !");
				break;
				
				} 
				// Si on a parcouru tout le tableau et il n'y a que des lettres => Erreur
				if (isNaN(validationMotDePasse[i])&& i == tailleTab)  {
					
					console.log("Echec, votre mot de passe n'est pas enregistré :( "); 
					break;
				}
			}
			 
		}	
	} 
	
	/* A régler 
	1. Appliquer la philosophie DRY pour les messages d'erreurs
	*/
	</script>
	</body>
</html>